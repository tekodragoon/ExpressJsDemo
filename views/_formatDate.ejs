<% padTo2Digits = function(num) {
  return num.toString().padStart(2, '0');
}
%>

<% formatDate = function(date) {
  if (date.getFullYear() == 2030) {
    return "Not set"
  }
  return [
    padTo2Digits(date.getDate()),
    padTo2Digits(date.getMonth() + 1),
    date.getFullYear(),
  ].join('/');
}
%>

<% formatInputDate = function(date) {
  if (date.getFullYear() == 2030) {
    return "-";
  }
  return [
    date.getFullYear(),
    padTo2Digits(date.getMonth() + 1),
    padTo2Digits(date.getDate()),
  ].join('-');
}
%>

<% shortDate = function(date) {
  return [
    padTo2Digits(date.getDate()),
    date.toLocaleDateString("en-US", {month: 'short'}),
  ].join(' ');
}
%>

<% nextDate = function(date, next) {
  let result = new Date(date);
  result.setDate(date.getDate() + next);
  return result.toLocaleDateString("en-US", 
  {
    weekday: 'short',
    day: 'numeric',
    month: 'short',
  });
}
%>

<% reqDate = function(date, next) {
  let result = new Date(date);
  if (next) {
    result.setDate(date.getDate() + 7);
  } else {
    result.setDate(date.getDate() - 7);
  }
  return [
    result.getFullYear(),
    padTo2Digits(result.getMonth()),
    padTo2Digits(result.getDate()),
  ].join('');
}
%>
